(function(){angular.module("angular-minimodal",[]).provider("$modal",function(){this.$get=["$http","$q","$controller","$compile","$rootScope",function($http,$q,$controller,$compile,$rootScope,$templateCache){var defaultOptions,getModal;return getModal=function(path){var cacheData,deferred;return deferred=$q.defer(),cacheData=$templateCache.get(path),null!=cacheData&&cacheData.length>0?deferred.resolve(angular.element(cacheData)):$http.get(path).then(function(response){if(200!==response.status)throw new Error("$modal could not find path '"+path+"'");return angular.element(response.data)}),deferred.promise},defaultOptions={dismissEscape:!0},angular.extend(this,{show:function(options){var deferred,getModalPromise,instance;if(options=angular.extend(defaultOptions,options),null==options)throw new Error("angular-minimodal: No options provided");if("string"!=typeof options.templateUrl)throw new Error("angular-minmodal: Invalid templateUrl");return deferred=$q.defer(),instance={resolve:function(v){return deferred.resolve(v)},reject:function(v){return deferred.reject(v)},result:deferred.promise},getModalPromise=getModal(options.templateUrl),getModalPromise.then(function($modal){var controller,locals,modal;return modal=$modal[0],document.body.appendChild(modal),options.controller&&(locals={$scope:options.$scope||$rootScope.$new(),$modalInstance:instance},controller=$controller(options.controller,locals),$modal.data("$ngControllerController",controller),$modal.children().data("$ngControllerController",controller)),$compile($modal)(locals.$scope),options.dismissEscape&&(modal.oncancel=function(){return instance.reject()}),null!=modal.showModal&&modal.showModal(),deferred.promise["finally"](function(){return null!=modal.close&&modal.close(),$modal.remove()})}),instance}})}]})}).call(this);
//# sourceMappingURL=angular-minimodal-latest.min.js.map