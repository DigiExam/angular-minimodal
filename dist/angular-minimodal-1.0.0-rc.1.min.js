!function(){"use strict";function n(){return++t}function e(){function e(e,t,r,o,l,a){function i(n){if(E)throw new Error("angular-minimodal: Can't open new modal when a modal is pending.");if(E=!0,n=angular.extend(C,n),"string"!=typeof n.templateUrl)throw new Error("angular-minimodal: Invalid templateUrl.");return u(n).then(g,v).finally(function(){E=!1})}function u(n){return w(n.templateUrl).then(function(e){return $(n,e)})}function c(n){n.open&&n.close()}function d(n){n.open||n.showModal()}function s(){j.length>0&&j[0].show()}function m(e){return{$$id:n(),$$modal:null,result:e.promise,resolve:function(n){e.resolve(n),f(this)},reject:function(n){e.reject(n),f(this)},hide:function(){c(this.$$modal)},show:function(){d(this.$$modal)}}}function f(n){n.$$modal.parentNode.removeChild(n.$$modal),j.shift(),s()}function h(n){try{return angular.element(n.data)}catch(e){return t.reject(e)}}function p(n){var e='angular-minimodal: Could not load template. Server responded %s "%d".'.replace("%s",n.status).replace("%d",n.data);return t.reject(new Error(e))}function $(n,e){var a=e[0];if("DIALOG"!==a.nodeName)return t.reject(new Error("angular-minimodal: Faulty template."));var i=t.defer(),u=m(i);u.$$modal=a;var c={$scope:n.$scope||l.$new(),$modalInstance:u};if(n.controller){var d;try{d=r(n.controller,c)}catch(s){return t.reject(s)}e.data("$ngControllerController",d),e.children().data("$ngControllerController",d)}return o(a)(c.$scope||{}),n.dismissEscape&&(a.oncancel=function(){u.reject()}),document.body.appendChild(a),j.unshift(u),u}function g(n){return null!==y&&y!=n&&y.hide(),y=n,n.show(),n}function v(n){return y=null,s(),t.reject(n)}function w(n){var r=t.defer(),o=r.promise,l=a.get(n);return"string"==typeof l&&l.length>0?r.resolve(angular.element(l)):o=e.get(n).then(h,p),o}angular.extend(this,{show:i});var C={dismissEscape:!0},j=[],y=null,E=!1;return this}this.$get=["$http","$q","$controller","$compile","$rootScope","$templateCache",e]}angular.module("angular-minimodal",[]).provider("$modal",e);var t=0}();
//# sourceMappingURL=angular-minimodal-1.0.0-rc.1.min.js.map