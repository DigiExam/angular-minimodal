!function(){"use strict";function n(){return++e}function o(){function o(o,e,l,t,r,a){function i(n){if(200!==n.status)throw new Error("angular-minimodal: Could not load template.");return angular.element(n.data)}function u(n){var l=e.defer(),t=l.promise,r=a.get(n);return null!=r&&r.length>0?l.resolve(angular.element(r)):t=o.get(n).then(i),t}function d(n){null!=n.modal&&n.modal.open&&n.modal.close()}function c(n){null==n.modal||n.modal.open||n.modal.showModal()}function s(n){var o,e;for(e=0;e<p.length;++e)o=p[e],o.id===n.id&&p.splice(e,1)}function m(o){if(o=angular.extend(f,o),null==o)throw new Error("angular-minimodal: No options provided.");if("string"!=typeof o.templateUrl)throw new Error("angular-minimodal: Invalid templateUrl.");var a=e.defer(),i={id:n(),modal:null,result:a.promise,resolve:function(n){a.resolve(n)},reject:function(n){a.reject(n)},hide:function(){d(this)},show:function(){c(this)}};return a.promise.finally(function(){null!=i.modal.close&&i.modal.close(),s(i),angular.element(i.modal).remove()}),p.push(i),u(o.templateUrl).then(function(n){var e=n[0];if(i.modal=e,document.body.appendChild(e),o.controller){var a={$scope:o.$scope||r.$new(),$modalInstance:i},u=l(o.controller,a);n.data("$ngControllerController",u),n.children().data("$ngControllerController",u)}t(n)(a.$scope),o.dismissEscape&&(e.oncancel=function(){i.reject()}),null!=e.showModal&&e.showModal()}),i}var f={dismissEscape:!0},p=[];return angular.extend(this,{show:m}),this}this.$get=["$http","$q","$controller","$compile","$rootScope","$templateCache",o]}angular.module("angular-minimodal",[]).provider("$modal",o);var e=0}();
//# sourceMappingURL=angular-minimodal-0.2.1.min.js.map